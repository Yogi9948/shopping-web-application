package login;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.chrome.ChromeOptions;
import org.openqa.selenium.interactions.Actions;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

import io.github.bonigarcia.wdm.WebDriverManager;

public class existingusercheck{

	WebDriver driver;
	
        @BeforeMethod
	    void setUp()
	     {
		  WebDriverManager.chromedriver().setup();
		  ChromeOptions options=new ChromeOptions();
	   	 	options.addArguments("disable-notifications");
	   	 	driver=new ChromeDriver(options); 
	     }
         @Test(description="Login")
	     void valid_details() throws InterruptedException
	     {
        	 Actions action=new Actions(driver);
             driver.get("https://www.bewakoof.com/login/");
             driver.findElement(By.cssSelector("#web_email_login")).click();
             driver.findElement(By.xpath("//input[@id='email_input']")).sendKeys("yogiram7211@gmail.com");
        	 	driver.findElement(By.xpath("//input[@id='mob_password']")).sendKeys("Yogiramu@98");
        	 WebElement element = driver.findElement(By.cssSelector("#mob_login_password_submit"));
     	 action.doubleClick(element).perform(); 
     	WebElement element2 = driver.findElement(By.tagName("body"));
        Actions builder = new Actions(driver);
        builder.moveToElement(element2, 0, 0).perform();
      driver.findElement(By.cssSelector(".icon_user")).click();
      driver.findElement(By.id("web_menu_myaccount")).click();
     	String currenturl=driver.getCurrentUrl();
     	System.out.println(currenturl);
     	 if(currenturl=="https://www.bewakoof.com/myaccount")
     	{
     		System.out.println("login failed");
     	}
     	//else
     	{
     		System.out.println("login sucess");
     	}
     	 
             			    
	    		 Thread.sleep(2000);
	    	
	    	 
	     }
     
	     @AfterMethod
		 void tearDown()
		 {
	//	driver.close();
	}
	}
